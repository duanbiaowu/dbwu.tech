<!doctype html>

<html lang="en">

<head>
  <title>网络基础: 什么是 DDoS ? - 蛮荆</title>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="" />
<meta name="author" content="" />
<link rel="shortcut icon" href="https://dbwu.tech/favicon.ico" type="image/x-icon" /><meta property="og:title" content="网络基础: 什么是 DDoS ?" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://dbwu.tech/posts/network/what-is-ddos/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-10-30T00:00:00+00:00" />
<meta property="article:modified_time" content="2017-10-30T00:00:00+00:00" />


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="网络基础: 什么是 DDoS ?"/>
<meta name="twitter:description" content=""/>

<meta name="generator" content="Hugo 0.120.3">
    
    <script src="https://dbwu.tech/js/mathjax-config.js" defer></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-CZMGTTFLNY"></script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3261056100776781" crossorigin="anonymous"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-CZMGTTFLNY');
  </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>


  <link rel="stylesheet" href="https://dbwu.tech/fontawesome/css/normalize.min.css" />
  <link rel="stylesheet" href="https://dbwu.tech/fontawesome/css/all.min.css" />
  
    
    <link href="//fonts.googleapis.com/css?family=Staatliches" rel="stylesheet">
  
  
  <link rel="stylesheet" type="text/css" href="https://dbwu.tech/css/styles-light.css" />
  </head>

<body>
  <div id="container">
    <header>
      
      <h1>
        <a href="https://dbwu.tech/">蛮荆</a>
      </h1>

      <ul id="social-media">
      </ul>
      
    </header>

    
<nav>
    <ul>
        
        <li>
            <a class="active" href="https://dbwu.tech/posts/">
                <i class="fa-li fa  fa-lg"></i><span>归档</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://dbwu.tech/tags/">
                <i class="fa-li fa  fa-lg"></i><span>标签</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://github.com/duanbiaowu">
                <i class="fa-li fa  fa-lg"></i><span>Github</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://dbwu.tech/index.xml">
                <i class="fa-li fa  fa-lg"></i><span>RSS</span>
            </a>
        </li>
        
    </ul>
</nav>


    <main>




<article>

    <h1>网络基础: 什么是 DDoS ?</h1>

    
      
<p>
    <span>2017-10-30</span>
    
    
    <a class="article-tag" href="https://dbwu.tech/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C">计算机网络</a>
    
</p>

    

    
      

    

    <h2 id="概述">概述</h2>
<blockquote>
<p>分布式拒绝服务（DDoS）攻击是一种常见的网络攻击形式，攻击者通过向目标服务器发送大量的请求，使目标服务器无法进行网络连接，无法正常提供服务。</p>
</blockquote>
<p>DDoS 攻击通常是由大量的分布在全球各地的 “僵尸” 计算机（也称为 “肉鸡” 或 “僵尸网络”）共同发起请求，这些计算机可能被感染了恶意软件，攻击者可以通过远程指令控制来发起攻击，从而达到掩饰攻击来源、加大攻击威力的目的。</p>
<hr>
<h2 id="1-协议型攻击">1. 协议型攻击</h2>
<p>这类攻击类型主要利用网络协议的漏洞或者设计缺陷，消耗目标服务器的资源，其中最著名的莫过于 <code>TCP SYN Flood</code> 攻击，几乎所有大型网站都遭受过这种类型攻击，造成几个小时到几天的服务不可用时间。</p>
<h3 id="全连接与半连接">全连接与半连接</h3>
<p>在描述 TCP SYN Flood 的攻击原理和如何防范之前，先来简单介绍一下 TCP 的全连接和半连接。</p>
<p><img src="https://dbwu.tech/images/network/tcp_2.png" alt="TCP 全连接和半连接"></p>
<p>全连接是指服务器收到了客户端的 ACK，完成了 TCP 三次握手，然后会把这个连接移动到全连接队列中，全连接队列中的套接字，需要被 <code>accept()</code> 系统调用出队取走，服务器才可以开始处理客户端的请求。</p>
<p>半连接是指还没有完成 TCP 三次握手的连接，连接只进行了一半，也就是服务器收到了客户端的 SYN 包之后。这时，服务器会把这个连接放入半连接队列中，然后再向客户端发送 SYN + ACK 包。</p>
<h3 id="syn-flood-洪泛-攻击">SYN Flood (洪泛) 攻击</h3>
<p>SYN Flood (洪泛) 攻击就是针对半连接队列的，攻击方不停地向服务器发起连接建立请求，但是建立连接时只完成第一步，第二步中，当攻击方收到服务器的 SYN + ACK 之后，故意丢掉报文，然后什么也不做，这样重复执行执行攻击过程，服务器的半连接队列很快就会被打满，这时其它正常的请求也无法和服务建立连接，攻击者的目的就达到了。</p>
<p><img src="https://dbwu.tech/images/network/ddos.png" alt="SYN Flood (洪泛)攻击示例"></p>
<h4 id="hping3">hping3</h4>
<p><code>hping3</code> (Redis 作者开发的另外一个工具) 可以构造 TCP/IP 协议数据包，对系统进行安全审计、防火墙测试、DDoS 攻击测试等。</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#999;font-style:italic"># -S 参数表示设置 TCP 协议的 SYN（同步序列号）</span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># -p 表示目的端口为 80</span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># -i u10表示每隔 10 微秒发送一个网络帧</span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># --rand-source 随机化源 IP 地址 (模拟更加真实的攻击)</span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># 当前主机: 192.168.0.2, 充当 “客户端” 发起 TCP 连接</span>
</span></span><span style="display:flex;"><span>$ hping3 -S -p <span style="color:#3677a9">80</span> -i u10 192.168.0.30
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># 在主机 192.168.0.30 抓包</span>
</span></span><span style="display:flex;"><span>$ tcpdump -i eth0 -n tcp port <span style="color:#3677a9">80</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># Flags [S] 表示这是一个 SYN 包</span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># 大量的 SYN 包表明，这是一个 SYN Flood 攻击</span>
</span></span><span style="display:flex;"><span>09:15:48.287047 IP 192.168.0.2.27095 &gt; 192.168.0.30: Flags [S], seq 1288268370, win 512, length <span style="color:#3677a9">0</span>
</span></span><span style="display:flex;"><span>09:15:48.287050 IP 192.168.0.2.27131 &gt; 192.168.0.30: Flags [S], seq 2084255254, win 512, length <span style="color:#3677a9">0</span>
</span></span><span style="display:flex;"><span>09:15:48.287052 IP 192.168.0.2.27116 &gt; 192.168.0.30: Flags [S], seq 677393791, win 512, length <span style="color:#3677a9">0</span>
</span></span><span style="display:flex;"><span>09:15:48.287055 IP 192.168.0.2.27141 &gt; 192.168.0.30: Flags [S], seq 1276451587, win 512, length <span style="color:#3677a9">0</span>
</span></span><span style="display:flex;"><span>09:15:48.287068 IP 192.168.0.2.27154 &gt; 192.168.0.30: Flags [S], seq 1851495339, win 512, length <span style="color:#3677a9">0</span>
</span></span></code></pre></div><p><img src="https://dbwu.tech/images/network/ddos.png" alt="使用 hping3 进行 SYN Flood (洪泛)攻击示例"></p>
<p>通过抓包输出，可以得出如下结果:</p>
<ol>
<li>客户端 (攻击方) 构造大量的 SYN 包，请求建立 TCP 连接</li>
<li>服务器 (被攻击方) 收到 SYN 包后，会向源 IP (客户端) 发送 SYN + ACK 报文，并等待三次握手的最后一次 ACK 报文，直到超时</li>
<li>经过一段时间后，服务器的半连接队列会打满，从而无法建立新的 TCP 连接</li>
</ol>
<h3 id="syn-flood-洪泛-攻击防范">SYN Flood (洪泛) 攻击防范</h3>
<p>如前文所述，SYN Flood (洪泛) 主要攻击的 TCP 的半连接队列，所以 <strong>最重要的防范措施就在于: 如何保护半连接队列不被恶意连接打满？</strong></p>
<p><img src="https://dbwu.tech/images/network/ddos_2.png" alt="SYN Flood (洪泛) 攻击 半连接队列"></p>
<ol>
<li>服务器的 TCP 连接，会处于 SYN_RECEIVED 状态</li>
<li>查看 TCP 半开连接的方法，关键在于 SYN_RECEIVED 状态的连接</li>
</ol>
<h4 id="1-手动处理">1. 手动处理</h4>
<p>手动处理包的核心思路: 先找到状态异常的包，然后手动进行限制或设置直接丢包处理。</p>
<p>首先，我们通过 <code>netstat</code> 命令找出状态为 <code>SYN_RECEIVED</code> 的数据包，然后分析其中异常的数据包。</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#999;font-style:italic"># -n 表示不解析名字</span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># -p 表示显示连接所属进程</span>
</span></span><span style="display:flex;"><span>$ netstat -n -p | grep SYN_RECV
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># 发现大量 SYN_RECV 状态的连接，并且源 IP 地址为 192.168.0.2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>tcp <span style="color:#3677a9">0</span> <span style="color:#3677a9">0</span> 192.168.0.30:80 192.168.0.2:12503 SYN_RECV -
</span></span><span style="display:flex;"><span>tcp <span style="color:#3677a9">0</span> <span style="color:#3677a9">0</span> 192.168.0.30:80 192.168.0.2:13502 SYN_RECV -
</span></span><span style="display:flex;"><span>tcp <span style="color:#3677a9">0</span> <span style="color:#3677a9">0</span> 192.168.0.30:80 192.168.0.2:15256 SYN_RECV -
</span></span><span style="display:flex;"><span>tcp <span style="color:#3677a9">0</span> <span style="color:#3677a9">0</span> 192.168.0.30:80 192.168.0.2:18117 SYN_RECV -
</span></span><span style="display:flex;"><span>...
</span></span></code></pre></div><p>找出异常数据包的源 IP 地址后，要解决 SYN Flood 攻击的问题，只要丢掉相关的包就可以，可以使用 <code>iptables</code> 命令来完成。</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ iptables -I INPUT -s 192.168.0.2 -p tcp -j REJECT
</span></span></code></pre></div><p>当然，攻击者不会一个源 IP 地址进行攻击，所以 SYN Flood 攻击中的源 IP 地址并不是固定的，这时手动限制单个 IP 地址的方式可能就不适合了 (当然，也可以将上述命令操作转为自动化脚本)。除此之外，还可以通过限制 SYN 包的速率来实现。</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#999;font-style:italic"># 限制 SYN 并发数为每秒 1 次</span>
</span></span><span style="display:flex;"><span>$ iptables -A INPUT -p tcp --syn -m limit --limit 1/s -j ACCEPT
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># 限制单个 IP 在 60 秒建立的新连接数为 10</span>
</span></span><span style="display:flex;"><span>$ iptables -I INPUT -p tcp --dport <span style="color:#3677a9">80</span> --syn -m recent --name SYN_FLOOD --update --seconds <span style="color:#3677a9">60</span> --hitcount <span style="color:#3677a9">10</span> -j REJECT
</span></span></code></pre></div><p>上述方法虽然可以限制单个攻击源 IP 地址发起的 SYN Flood 攻击，但是如果攻击者发起的是大规模 (僵尸网络) 的 SYN Flood 攻击，该方法可能就无效了。</p>
<blockquote>
<p>因为在遭遇大规模的 SYN Flood 攻击时，服务器管理人员很可能无法 SSH 登录（SSH 也是基于 TCP 的）到服务器，更不可能执行上述的相关命令。</p>
</blockquote>
<h4 id="2-增大半连接队列的容量">2. 增大半连接队列的容量</h4>
<p>Linux 查看默认的半连接队列容量:</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#999;font-style:italic"># 注意: 该数值在不同发行版、Linux 版本中可能不同</span>
</span></span><span style="display:flex;"><span>$ sysctl net.ipv4.tcp_max_syn_backlog
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>net.ipv4.tcp_max_syn_backlog = <span style="color:#3677a9">512</span>
</span></span></code></pre></div><p>将半连接队列容量增大到 2048:</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ sysctl -w net.ipv4.tcp_max_syn_backlog=<span style="color:#3677a9">2048</span>
</span></span></code></pre></div><h4 id="3-减少连接-syn_recv-状态失败时内核自动重试次数">3. 减少连接 SYN_RECV 状态失败时内核自动重试次数</h4>
<p>Linux 查看连接 SYN_RECV 状态失败时内核自动重试次数:</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ sysctl net.ipv4.tcp_synack_retries
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>net.ipv4.tcp_synack_retries = <span style="color:#3677a9">5</span>
</span></span></code></pre></div><p>将自动重试次数减少到 1:</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ sysctl -w net.ipv4.tcp_synack_retries=<span style="color:#3677a9">1</span>
</span></span></code></pre></div><h4 id="4-tcp-syn-cookies">4. TCP SYN Cookies</h4>
<p>在默认的 TCP 三次握手过程中，客户端向服务器发送 SYN 数据包，服务器收到之后应该回复一个 SYN + ACK 数据包，并进入 SYN_RECV 状态等待客户端的 ACK 确认，但是，如果攻击者向服务器发送大量的 SYN 数据包而不回复 ACK 确认，服务器的半连接队列就会被打满，无法接受正常的新连接。</p>
<p><strong>TCP SYN Cookies</strong> 是一种专门防御 SYN Flood 攻击的方法，SYN Cookies 基于 TCP 连接四元组（包括源地址、源端口、目的地址、目的端口）以及一个加密种子（如系统启动时间），计算出一个哈希值（SHA1），这个哈希值称为 Cookie。</p>
<p>Cookie 就被用作序列号，来应答 SYN + ACK 包，并释放连接状态，当客户端发送完三次握手的最后一次 ACK 后，服务器就会再次计算（反向）这个哈希值，确认是上次返回的 SYN + ACK 的应答包，然后才会进入 TCP 的连接状态。</p>
<blockquote>
<p>开启 TCP SYN Cookies 之后，就不需要维护半连接状态了，自然也就不存在半连接队列的容量限制问题了。</p>
</blockquote>
<p>Linux 开启 TCP SYN Cookies:</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#999;font-style:italic"># 临时配置，重启后配置会丢失</span>
</span></span><span style="display:flex;"><span>$ sysctl -w net.ipv4.tcp_syncookies=<span style="color:#3677a9">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>net.ipv4.tcp_syncookies = <span style="color:#3677a9">1</span>
</span></span></code></pre></div><p>需要注意的是：开启 TCP syncookies 后，内核选项 (半连接容量) net.ipv4.tcp_max_syn_backlog 失效。</p>
<p>如果需要将配置持久化，应该写入 /etc/sysctl.conf 文件:</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ vim /etc/sysctl.conf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># 对应配置修改如下</span>
</span></span><span style="display:flex;"><span>net.ipv4.tcp_syncookies = <span style="color:#3677a9">1</span>
</span></span><span style="display:flex;"><span>net.ipv4.tcp_synack_retries = <span style="color:#3677a9">1</span>
</span></span><span style="display:flex;"><span>net.ipv4.tcp_max_syn_backlog = <span style="color:#3677a9">1024</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-style:italic"># 配置持久化（动态生效）</span>
</span></span><span style="display:flex;"><span>$ sysctl -p 
</span></span></code></pre></div><hr>
<h2 id="2-反射型攻击">2. 反射型攻击</h2>
<p>反射型 DDoS 攻击也称为 (流量) 放大型攻击。</p>
<p>攻击者向服务器发送大量的数据包，占用服务器的带宽和资源，造成目标服务器无法正常提供服务，例如 UDP 洪泛、ICMP 洪泛。</p>
<p>UDP 洪泛: 攻击者向目标服务发送大量的 UDP 数据报文试图填充服务器的可用端口，服务器如果没有找到指定端口，会返回 “Destination Unreachable” 应答报文，在海量 UDP 请求下，服务器就会被攻击流量淹没。</p>
<p>ICMP 洪泛：攻击者向目标服务器发送大量的 <code>ICMP ECHO</code>, 也就是 ping 请求 数据包，目标服务器会耗费大量的 CPU 资源去处理和响应，从而无法响应正常请求。</p>
<p>攻击者也可以利用利用第三方服务或设备，放大攻击流量，典型的如 DNS 攻击。<strong>攻击者利用开放的 DNS 服务器向目标系统发送大量的 DNS 查询请求，通过伪造源 IP 地址为被攻击目标，使被攻击目标系统收到大量的 DNS 响应数据包</strong>，占用其带宽和服务器资源。</p>
<p>举个小例子来说明这种情况:</p>
<div class="highlight"><pre tabindex="0" style="color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>  +------+            +------+              +------+   
</span></span><span style="display:flex;"><span>  |      |            |      |   ----&gt;      |      |
</span></span><span style="display:flex;"><span>  |   A  |   ---&gt;     |   B  |   ----&gt;      |   C  |
</span></span><span style="display:flex;"><span>  |      |            |      |   ----&gt;      |      |
</span></span><span style="display:flex;"><span>  +------+            +------+              +------+
</span></span><span style="display:flex;"><span>   攻击者              开放服务器              被攻击者
</span></span></code></pre></div><p>假设 B 服务器作为开放服务器，监听 UDP 端口 5678，当给这个 UDP 端口发送消息后会做具体的应答。</p>
<p>那么攻击者 A 只需要做以下事情:</p>
<ol>
<li>发送数据给 B，并修改数据报文，伪装自己的源 IP 为 C</li>
<li>B 接收到 A 的数据后，根据源 IP 将应答发送给 C (因为 A 发过来的报文中，源 IP 是 C)</li>
<li>C 收到了来自 B 的 “反射性” 攻击，因为 B 将数据数量包放大了，原本 A 可能只发送了 “hello” 给 B，而 B 却发送了N N
N 个 “hello” 给 C, 如果类似 B 的开放服务器还不止一个，那么理论上，C 受到的攻击可以被无限放大</li>
</ol>
<p>或者针对特定应用程序或服务发送攻击，例如 HTTP 洪泛 (发送大量 HTTP 请求)，慢速 HTTP (攻击者向目标服务器发送大量的 HTTP 请求，但是每个请求的发送速度非常缓慢)，薄弱环节攻击 (例如网站的关键字搜索功能，攻击者可以自动化伪造不同关键字，发送大量请求，严重影响网站的响应速度，严重时甚至直接使整个网站宕机)。</p>
<h3 id="攻击特点">攻击特点</h3>
<p>不论哪种类型的反射型攻击，其攻击方式都具有如下特点：</p>
<ol>
<li>高流量: 攻击者发送大量的数据 (请求报文) 到目标服务器或网络，使其超出正常处理能力范围</li>
<li>大规模且难以识别: 攻击者操作数百或数千个攻击节点 (也称为 “肉鸡” 或 “僵尸网络”)，形成大规模的攻击，而且攻击节点很难找出共性特征 (攻击流量和正常流量看起来几乎一样)</li>
<li>目的明确且无差别攻击: 攻击的目的通常是使目标服务器或网络不可用，所有会攻击目标服务器所有开放端口</li>
<li>持续性: 攻击行为可以持续数小时甚至数天</li>
</ol>
<h3 id="攻击防范">攻击防范</h3>
<p>反射型攻击的单纯从技术上很难实现绝对防范，毕竟像 Github 这种级别的网站面对 DDoS 时也只能 “躺平”，目前主流的解决方法基本都是通过 “加钱” 的方式来解决的，例如堆硬件、搭软件、叠带宽等方面。</p>
<ol>
<li>流量过滤和清洗: 使用 (云计算厂商提供的) 专业的 DDoS 防护设备或服务，对流量进行实时监测、过滤和清洗、识别并阻止异常流量</li>
<li>入侵检测和防御: 部署入侵检测系统 (IDS) 和入侵防御系统 (IPS)，对网络流量进行实时监控和分析、识别并阻止异常流量</li>
<li>增加带宽和资源: 增加网络带宽和服务器资源，提高系统抵御大流量攻击的能力</li>
<li>ISP: 与互联网服务提供商（ISP）合作，共同防范 DDoS 攻击</li>
<li>CDN: 尽可能使用 CDN 分发流量，最大限度减少攻击对关键业务/服务的影响</li>
<li>限流: 关键业务/服务中对网络流量进行限制</li>
</ol>
<hr>
<h2 id="扩展阅读">扩展阅读</h2>
<ul>
<li><a href="https://github.com/antirez/hping">hping</a></li>
<li><a href="https://info.support.huawei.com/info-finder/encyclopedia/zh/DDoS%E6%94%BB%E5%87%BB.html">什么是DDoS攻击？</a></li>
</ul>


</article>

<article>
    <img src="https://dbwu.tech/images/wechat.png">
</article>

<article>
    <h3>转载申请</h3>

    <p>
        本作品采用 <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">知识共享署名 4.0 国际许可协议</a> 进行许可，转载时请注明原文链接，图片在使用时请保留全部内容，商业转载请联系作者获得授权。
    </p>
</article>

<section class="post-nav">
    <ul>
        <li>
        
            <a href="https://dbwu.tech/posts/network/how-icmp-works/"><i class="fa fa-chevron-circle-left"></i> 网络基础: ICMP 是如何工作的？</a>
        
        </li>
        <li>
        
            <a href="https://dbwu.tech/posts/hardware/latency/">硬件延迟级别 <i class="fa fa-chevron-circle-right"></i> </a>
        
        </li>
    </ul>
</section>
  
    
    
  


<script src="https://giscus.app/client.js"
        data-repo="duanbiaowu/dbwu.tech"
        data-repo-id="R_kgDOIkkjjw"
        data-category="Announcements"
        data-category-id="DIC_kwDOIkkjj84CV78j"
        data-mapping="specific"
        data-term="网络基础: 什么是 DDoS ?"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="1"
        data-input-position="top"
        data-theme="light"
        data-lang="zh-CN"
        crossorigin="anonymous" async>
</script>




</main>
    <footer>
        <ul>
            <li>
                <h6><a href="mailto:codean.net@gmail.com">codean.net@gmail.com</a> | 
                    <img src="https://dbwu.tech/images/%E5%A4%87%E6%A1%88%E5%9B%BE%E6%A0%87.png" />
                    <a href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=61011302001681" target="_blank">陕公网安备 61011302001681 号</a> |
                    <a href="https://beian.miit.gov.cn" target="_blank">陕ICP备2023004378号-1</a> |
                    Rendered by <a href="https://themes.gohugo.io" title="Hugo" target="_blank">Hugo</a>
                </h6>
            </li>
            
            
        </ul>
    </footer>
</div>
<script src="https://dbwu.tech/js/scripts.js"></script>


</body>

</html>

